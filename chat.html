<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Julie - Serial Chilleuse</title>
  <style>
    :root {
      --color-primary: #60C0E6;
      --color-primary-hover: #468FCF;
      --color-bg: #F2F7FA;
      --radius: 20px;
      --shadow: rgba(0,0,0,0.1);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; background: var(--color-bg); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    body { display: flex; flex-direction: column; padding-top: 4rem; }

   /* Micro-copy sous les autres options, juste avant “Viens discuter” */
.chat-pitch {
  margin: 1rem auto;           /* espace au-dessus et en-dessous */
  max-width: 240px;            /* limite la largeur pour aérer */
  font-size: 0.9rem;           /* un peu plus petit que les boutons */
  font-style: italic;          /* ton léger, informel */
  color: #555;                 /* gris mid-tone pour différencier */
  text-align: center;          /* centré sous les boutons */
  line-height: 1.4;            /* un interligne confortable */
}
    
    /* Header */
    .chat-header {
      position: fixed; top: 0; left: 0; right: 0; height: 4rem;
      display: flex; align-items: center; justify-content: center;
      background: var(--color-primary); color: #fff;
      font-size: 1.25rem; font-weight: bold;
      box-shadow: 0 2px 4px var(--shadow); z-index: 200;
      padding: 0 1rem;
    }
    #header-back-btn {
      position: absolute; left: 1rem; top: 50%; transform: translateY(-50%);
      background: none; border: none; color: #fff;
      font-size: 1.5rem; cursor: pointer;
      visibility: hidden;
    }
    .header-title { flex: 1; text-align: center; }

    /* Onboarding */
    .onboard-step {
      display: none; position: fixed;
      top: 4rem; bottom: 0; left: 0; right: 0;
      background: rgba(255,255,255,0.95); z-index: 100;
      flex-direction: column; align-items: center; justify-content: center;
      text-align: center; padding: 1rem;
    }
    .onboard-step.active { display: flex; }
    .lang-btn, .btn-primary, .cta-options button {
      background: var(--color-primary); color: #fff; border: none;
      border-radius: var(--radius); padding: .75rem 1.5rem;
      cursor: pointer; margin: .5rem 0; width: 70%;
    }
    .lang-btn:hover, .btn-primary:hover, .cta-options button:hover {
      background: var(--color-primary-hover);
    }

    /* Main container */
    .chat-container {
      flex: 1; display: flex; flex-direction: column;
      margin: .5rem; background: #fff; border-radius: var(--radius);
      overflow: hidden; box-shadow: 0 4px 12px var(--shadow);
    }

    /* Sections & Chat */
    .section { display: none; flex: 1; overflow-y: auto; padding: 1rem; background: var(--color-bg); }
    .section.active { display: block; }
    .chat-scroll {
      display: none; flex: 1; overflow-y: auto;
      padding: 1rem; flex-direction: column; gap: 1rem; background: var(--color-bg);
    }
    .chat-scroll.active { display: flex; }
    form#chat-form { display: none; width: 100%; }
    form#chat-form.active { display: flex; }

    /* Input */
    .input-area {
      display: flex; align-items: center;
      padding: .75rem; background: #fff;
      box-shadow: 0 -2px 4px var(--shadow);
    }
    .input-area input {
      flex: 1; padding: .75rem 1rem; border: 1px solid #ccc;
      border-radius: 30px; outline: none; margin-right: .5rem;
    }
    .input-area button {
      background: var(--color-primary); border: none; color: #fff;
      width: 2.5rem; height: 2.5rem; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 1.25rem; cursor: pointer;
    }

    /* Vignettes */
    .service-tiles {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 1rem; margin-top: 1rem;
    }
    .section h2 { text-align: center; margin-bottom: 1rem; }
    .service-tile {
      display: flex; flex-direction: column; align-items: center;
      padding: .75rem; background: #fff; border-radius: var(--radius);
      box-shadow: 0 2px 6px var(--shadow); cursor: pointer;
      transition: transform .1s, box-shadow .1s;
    }
    .service-tile:hover { transform: translateY(-2px); box-shadow: 0 4px 12px var(--shadow); }
    .service-tile img { width: 40px; height: 40px; margin-bottom: .5rem; }
    .service-tile span { font-size: .875rem; color: #333; text-align: center; }

    .chat-launch { grid-column: 1 / -1; display: flex; justify-content: center; margin-top: 2rem; }
  </style>
</head>
<body>
  <div class="chat-header">
    <button id="header-back-btn" aria-label="Retour">←</button>
    <div class="header-title">Julie</div>
  </div>

  <!-- Onboarding -->
  <div id="step-language" class="onboard-step active">
    <p>Choisissez votre langue</p><br>
    <p>Choose your language</p><br>
    <p>Elige tu idioma</p> <br>
    <p>Wähle deine Sprache</p><br>
    <button class="lang-btn" data-lang="fr">Français</button>
    <button class="lang-btn" data-lang="en">English</button>
    <button class="lang-btn" data-lang="es">Español</button>
    <button class="lang-btn" data-lang="de">Deutsch</button>
  </div>
  <div id="step-intro" class="onboard-step">
    <h2 id="intro-title">Bienvenue !</h2>
    <p id="intro-text">Je suis <strong>Julie</strong>, votre concierge virtuelle pour votre séjour.</p>
    <button class="btn-primary" id="btn-intro-next">Cool !</button>
  </div>
  <div id="step-cta" class="onboard-step">
    <h2 id="cta-title">Par où commencer ?</h2>
    <br>
    <div class="cta-options">
      <button data-cta="section-services">Services de l'hôtel</button>
      <button data-cta="section-livret">Le livret d'accueil</button>
      <!-- === NOUVEAU : micro-copy Option C === -->
  <p class="chat-pitch">
    Parle à Julie : son IA et ses influenceurs locaux t’ont déniché les meilleurs spots autour de l’hôtel.
  </p>
      <button data-cta="chat">Lance le chat</button>
    </div>
  </div>

  <div class="chat-container">
    <!-- Services -->
    <div id="section-services" class="section">
      <h2>Services de l'hôtel</h2>
      <div class="service-tiles">
        <div class="service-tile" data-detail="roomservice">
          <img src="room.png" alt="Room Service"><span>Room Service</span>
        </div>
        <div class="service-tile" data-detail="spa">
          <img src="spa.png" alt="Spa"><span>Spa & Bien-être</span>
        </div>
        <div class="service-tile" data-detail="menage">
          <img src="menage.png" alt="Ménage"><span>Service de ménage</span>
        </div>
        <div class="service-tile" data-detail="petit-dejeuner">
          <img src="petit-dejeuner.png" alt="Petit-déjeuner"><span>Le petit-déjeuner</span>
        </div>
        <div class="chat-launch"><button class="btn-primary" id="btn-start-chat">Lancer le chat</button></div>
      </div>
    </div>

    <!-- Livret -->
    <div id="section-livret" class="section">
      <h2>Nous vous souhaitons un excellent séjour au sein de notre établissement</h2>
      <div class="service-tiles">
        <div class="service-tile" data-detail="wifi">
          <img src="wifi.png" alt="Wi-Fi"><span>Wi-Fi</span>
        </div>
        <div class="service-tile" data-detail="digicode">
          <img src="digicode.png" alt="Digicode"><span>Digicode</span>
        </div>
        <div class="service-tile" data-detail="checkout">
          <img src="checkout.png" alt="Check-out"><span>Check-out</span>
        </div>
        <div class="service-tile" data-detail="reception">
          <img src="reception.png" alt="Réception"><span>Réception</span>
        </div>
        <div class="service-tile" data-detail="infos-pratiques">
          <img src="infos.png" alt="Infos pratiques"><span>Infos pratiques</span>
        </div>
        <div class="service-tile" data-detail="livre-dor">
          <img src="livre-or.png" alt="Livre d'or"><span>Livre d'or</span>
        </div>
        <div class="chat-launch"><button class="btn-primary" id="btn-start-chat-2">Lancer le chat</button></div>
      </div>
    </div>

    <!-- Chat -->
    <div id="chat" class="chat-scroll"></div>
    <form id="chat-form" class="input-area">
      <input type="text" id="user-input" placeholder="Écris votre message…" autocomplete="off" />
      <button type="submit">➤</button>
    </form>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  // ─── 1) Récupération des éléments ────────────────────────────────
  const backBtn   = document.getElementById('header-back-btn');
  const stepLang  = document.getElementById('step-language');
  const stepIntro = document.getElementById('step-intro');
  const stepCta   = document.getElementById('step-cta');
  const secServ   = document.getElementById('section-services');
  const secLiv    = document.getElementById('section-livret');
  const chatBox   = document.getElementById('chat');
  const chatForm  = document.getElementById('chat-form');
  const inputEl   = document.getElementById('user-input');
  const btnLangs  = document.querySelectorAll('.lang-btn');
  const btnIntro  = document.getElementById('btn-intro-next');
  const btnCTA    = document.querySelectorAll('.cta-options button');
  const tiles     = document.querySelectorAll('.service-tile');
  const btnChat1  = document.getElementById('btn-start-chat');
  const btnChat2  = document.getElementById('btn-start-chat-2');

  // ─── 2) État initial ────────────────────────────────────────────
  let historyStack   = [];
  let currentSection = stepLang;
  let lang           = 'fr';

  // ─── 3) Textes statiques par langue ─────────────────────────────
  const texts = {
    fr: {
      introTitle:   'Coucou !',
      introText:    "Je suis <strong>Julie</strong>, votre concierge virtuelle pour votre séjour.",
      ctaTitle:     'Par où commencer ?',
      placeholder:  'Écris votre message…',
      welcome:      'Salut ! Comment puis-je vous aider aujourd’hui ?'
    },
    en: {
      introTitle:   'Welcome !',
      introText:    "I'm <strong>Julie</strong>, your virtual concierge for your stay.",
      ctaTitle:     'Where to start ?',
      placeholder:  'Type your message…',
      welcome:      'Hi there ! How can I assist you today ?'
    },
    es: {
      introTitle:   '¡Bienvenido !',
      introText:    "Soy <strong>Julie</strong>, tu conserje virtual durante tu estancia.",
      ctaTitle:     '¿Por dónde empezar ?',
      placeholder:  'Escribe tu mensaje…',
      welcome:      '¡Hola ! ¿En qué puedo ayudarte hoy ?'
    },
    de: {
      introTitle:   'Willkommen !',
      introText:    "Ich bin <strong>Julie</strong>, Ihre virtuelle Concierge während Ihres Aufenthalts.",
      ctaTitle:     'Wo anfangen ?',
      placeholder:  'Nachricht eingeben…',
      welcome:      'Hallo ! Wie kann ich Ihnen heute helfen ?'
    }
  };

  // ─── 4) Étiquettes UI dynamiques par langue ───────────────────────
  const uiLabels = {
    fr: {
      ctaServices:           "Services de l'hôtel",
      ctaLivret:             "Le livret d'accueil",
      ctaChat:               "Viens discuter",
      sectionServicesTitle:  "Services de l'hôtel",
      sectionLivretTitle:    "Nous vous souhaitons un excellent séjour au sein de notre établissement",
      tiles: {
        roomservice:      "Room Service",
        spa:              "Spa & Bien-être",
        menage:           "Service de ménage",
        "petit-dejeuner": "Le petit-déjeuner",
        wifi:             "Wi-Fi",
        digicode:         "Digicode",
        checkout:         "Check-out",
        reception:        "Réception",
        "infos-pratiques":"Infos pratiques",
        "livre-dor":      "Livre d'or",
        btnIntro: "C’est parti !"
      }
    },
    en: {
      ctaServices:          "Hotel services",
      ctaLivret:            "Welcome booklet",
      ctaChat:              "Chat with Julie",
      sectionServicesTitle: "Hotel Services",
      sectionLivretTitle:   "We wish you a wonderful stay at our hotel",
      tiles: {
        roomservice:      "Room Service",
        spa:              "Spa & Wellness",
        menage:           "Housekeeping",
        "petit-dejeuner": "Breakfast",
        wifi:             "Wi-Fi",
        digicode:         "Keycode",
        checkout:         "Check-out",
        reception:        "Reception",
        "infos-pratiques":"Practical info",
        "livre-dor":      "Guestbook",
  btnIntro: "Let’s go!"
      }
    },
    es: {
      ctaServices:          "Servicios del hotel",
      ctaLivret:            "Manual de bienvenida",
      ctaChat:              "Chatear con Julie",
      sectionServicesTitle: "Servicios del hotel",
      sectionLivretTitle:   "¡Te deseamos una estancia maravillosa!",
      tiles: {
        roomservice:      "Servicio a la habitación",
        spa:              "Spa y bienestar",
        menage:           "Limpieza",
        "petit-dejeuner": "Desayuno",
        wifi:             "Wi-Fi",
        digicode:         "Código de acceso",
        checkout:         "Salida",
        reception:        "Recepción",
        "infos-pratiques":"Información práctica",
        "livre-dor":      "Libro de visitas",
        btnIntro: "¡Vamos!"
      }
    },
    de: {
      ctaServices:          "Hoteldienstleistungen",
      ctaLivret:            "Gästebuch",
      ctaChat:              "Mit Julie chatten",
      sectionServicesTitle: "Hoteldienstleistungen",
      sectionLivretTitle:   "Wir wünschen Ihnen einen wunderschönen Aufenthalt",
      tiles: {
        roomservice:      "Zimmerservice",
        spa:              "Spa & Wellness",
        menage:           "Zimmerreinigung",
        "petit-dejeuner": "Frühstück",
        wifi:             "Wi-Fi",
        digicode:         "Zugangscode",
        checkout:         "Check-out",
        reception:        "Rezeption",
        "infos-pratiques":"Praktische Infos",
        "livre-dor":      "Gästebuch",
        btnIntro: "Los geht’s!"
      }
    }
  };

  // ─── 5) Helpers de navigation et d’affichage ───────────────────────
  function hideAll() {
    [stepLang, stepIntro, stepCta, secServ, secLiv, chatBox, chatForm]
      .forEach(el => el.classList.remove('active'));
    backBtn.style.visibility = 'hidden';
  }

  function show(el) {
    if (currentSection && currentSection !== el) {
      historyStack.push(currentSection.id);
    }
    hideAll();
    el.classList.add('active');
    backBtn.style.visibility = (el === stepLang) ? 'hidden' : 'visible';
    currentSection = el;
  }

  function addMessage(txt, cls) {
    const wrapper = document.createElement('div');
    wrapper.className = 'message-wrapper ' + cls;
    const msg = document.createElement('div');
    msg.className = 'message ' + cls;
    msg.innerHTML = txt;
    wrapper.appendChild(msg);
    chatBox.appendChild(wrapper);
    chatBox.scrollTop = chatBox.scrollHeight;
  }

  function showChat() {
    hideAll();
    chatBox.classList.add('active');
    chatForm.classList.add('active');
    backBtn.style.visibility = 'visible';
    inputEl.placeholder = texts[lang].placeholder;
    inputEl.focus();
    addMessage(texts[lang].welcome, 'bot');
  }

  // ─── 6) Mise à jour des labels UI selon la langue ────────────────
  function updateUILanguage() {
    const L = uiLabels[lang];
    // CTA buttons
    document.querySelector('[data-cta="section-services"]').innerText = L.ctaServices;
    document.querySelector('[data-cta="section-livret"]').innerText   = L.ctaLivret;
    document.querySelector('[data-cta="chat"]').innerText            = L.ctaChat;
    // Section headings
    secServ.querySelector('h2').innerText = L.sectionServicesTitle;
    secLiv.querySelector('h2').innerText  = L.sectionLivretTitle;
    // Tiles
    tiles.forEach(tile => {
      const key = tile.dataset.detail;
      const span = tile.querySelector('span');
      if (L.tiles[key]) span.innerText = L.tiles[key];
       // Chat-launch buttons dans Services et Livret
      // Traduction du bouton “Cool !”
document.getElementById('btn-intro-next').innerText = uiLabels[lang].btnIntro;
  btnChat1.innerText = L.ctaChat;
  btnChat2.innerText = L.ctaChat;
    });
  }

  // ─── 7) Initialisation (hash ou onboard) ─────────────────────────
  const hash = window.location.hash;
  if (hash === '#section-services' || hash === '#section-livret') {
    show(document.getElementById(hash.slice(1)));
    historyStack = ['step-cta'];
  } else {
    show(stepLang);
  }
  updateUILanguage();

  // ─── 8) Événements Onboarding & UI ───────────────────────────────
  btnLangs.forEach(b => b.addEventListener('click', () => {
    lang = b.dataset.lang;
    // textes intro/CTA
    document.getElementById('intro-title').innerHTML = texts[lang].introTitle;
    document.getElementById('intro-text').innerHTML  = texts[lang].introText;
    document.getElementById('cta-title').innerHTML   = texts[lang].ctaTitle;
    // mise à jour UI globale
    updateUILanguage();
    show(stepIntro);
  }));

  btnIntro.addEventListener('click', () => show(stepCta));

  btnCTA.forEach(b => b.addEventListener('click', () => {
    const action = b.dataset.cta;
    if (action === 'section-services') show(secServ);
    else if (action === 'section-livret')  show(secLiv);
    else showChat();
  }));

  tiles.forEach(t => t.addEventListener('click', () => {
    window.location.href = 'detail-' + t.dataset.detail + '.html';
  }));

  btnChat1.addEventListener('click', showChat);
  btnChat2.addEventListener('click', showChat);

  backBtn.addEventListener('click', () => {
    if (historyStack.length) {
      const prevId = historyStack.pop();
      const prevEl = document.getElementById(prevId);
      show(prevEl);
    } else {
      switch (currentSection.id) {
        case 'section-services':
        case 'section-livret':
          show(stepCta);    break;
        case 'step-cta':
          show(stepIntro);  break;
        case 'step-intro':
          show(stepLang);   break;
        default:
          window.history.back();
      }
    }
  });

  // ─── 9) Soumission du chat ─────────────────────────────────────────
  chatForm.addEventListener('submit', e => {
    e.preventDefault();
    const text = inputEl.value.trim();
    if (!text) return;
    addMessage(text, 'user');
    inputEl.value = '';
    setTimeout(() => addMessage('Réponse test…', 'bot'), 500);
  });
});
</script>
</body>
</html>
